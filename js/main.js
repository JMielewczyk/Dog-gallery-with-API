!function(){"use strict";class e{constructor(){this.dogSection=document.querySelector(".dog-section"),this.randomImgTag=document.querySelector(".random-image"),this.breedsContainer=document.querySelector(".breeds-container"),this.backgroundImage=document.querySelector(".dog-section__container-background"),this.randomBtn=document.querySelector(".dog-section__random-btn"),this.spinner=document.querySelector(".dog-section__spinner-container"),this.randomBtn.addEventListener("click",(e=>{this.getRandomImage()})),this.init()}getBreedList(){return fetch("https://dog.ceo/api/breeds/list/all").then((e=>e.json())).then((e=>e.message))}getRandomImage(){return this.activeSpinner(),fetch("https://dog.ceo/api/breeds/image/random").then((e=>e.json())).then((e=>e.message)).then((e=>{this.randomImgTag.setAttribute("src",e),this.backgroundImage.style.backgroundImage=`url(${e})`,this.offSpinner()}))}getRandomImageBreed(e){return this.activeSpinner(),fetch(`https://dog.ceo/api/breed/${e}/images/random`).then((e=>e.json())).then((e=>e.message)).then((e=>{this.randomImgTag.setAttribute("src",e),this.backgroundImage.style.backgroundImage=`url(${e})`,this.offSpinner()}))}activeSpinner(){this.spinner.classList.add("active")}offSpinner(){this.spinner.classList.remove("active")}capitalizeFirstLetter(e){return e.textContent.charAt(0).toUpperCase()+e.textContent.slice(1)}changeBreedBtnText(e,t){t.textContent=e;const n=this.capitalizeFirstLetter(t);t.textContent=n,this.getRandomImageBreed(t.textContent.toLowerCase()),window.scrollTo({top:0,left:0,behavior:"smooth"})}createBreedBtn(e){const t=document.createElement("div");t.classList.add("dog-section__selected-breed-btn"),this.dogSection.appendChild(t),this.changeBreedBtnText(e,t),t.addEventListener("click",(e=>{const n=e.target.textContent;this.changeBreedBtnText(n,t)}))}drawAllBreeds(){return fetch("https://dog.ceo/api/breeds/list/all").then((e=>e.json())).then((e=>{for(e in e.message){const t=document.createElement("div");t.classList.add("breeds-container__tile"),t.textContent=e,this.breedsContainer.appendChild(t)}this.breedsContainer.addEventListener("click",(e=>{if("breeds-container__tile"===e.target.classList.value){let t=e.target.textContent;const n=[...this.dogSection.children];for(const s of n)if("dog-section__selected-breed-btn"===s.classList.value){t=e.target.textContent;const n=s;return void this.changeBreedBtnText(t,n)}this.createBreedBtn(t)}}))}))}init(){this.drawAllBreeds(),this.getRandomImage()}}document.addEventListener("DOMContentLoaded",(()=>{new e}))}();